@Component
script OurHealthBar extends Component

	property SliderComponent myHP = nil

	@ExecSpace("ClientOnly")
	method void OnBeginPlay()
		self.myHP = self.Entity.SliderComponent
		self.myHP.Value = 1
	end

	@ExecSpace("ClientOnly")
	method void OnUpdate(number delta)
		local tower = _EntityService:GetEntity(_GameManager:GetGameMapName().."/PlayerTower")
		
		if tower == nil then
			return 
		end
		
		self.myHP.Value = tower.Unit.hp / tower.Unit.maxHP
	end

end